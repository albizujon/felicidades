<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Sistema — Seguridad</title>
  <style>
    :root{
      --bg:#030405;
      --grid:#0a0c10;
      --neon:#00ffa3;
      --neon2:#00ffc8;
      --danger:#ff3b3b;
      --amber:#ffd166;
      --ink:#d7ffe8;
    }
    html,body{height:100%;margin:0}
    body{
      background:
        radial-gradient(1000px 480px at 50% 15%, #07130f 0%, #030405 60%),
        repeating-linear-gradient(0deg,var(--grid) 0 2px,transparent 2px 4px),
        var(--bg);
      color:var(--ink);
      font:500 15px/1.6 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      overflow:hidden;
    }

    /* Fondo tipo "matrix" */
    #matrix{position:fixed; inset:0; z-index:0; opacity:.28}

    /* Scanlines CRT */
    .scan::after{
      content:""; position:fixed; inset:0; z-index:3;
      background:linear-gradient(to bottom, transparent 50%, rgba(255,255,255,.025) 51%, transparent 52%);
      background-size:100% 3px; mix-blend-mode:overlay; pointer-events:none;
    }

    /* Barra superior de estado */
    .topbar{
      position:fixed; inset:0 0 auto 0; z-index:4;
      display:flex; align-items:center; gap:18px;
      padding:10px 14px; color:#aaf5d6;
      background:linear-gradient(180deg,#081c14,#05120e);
      border-bottom:1px solid #0b2;
      box-shadow: 0 10px 40px #0007;
    }
    .pill{
      padding:4px 8px; border:1px solid #2a5; border-radius:999px;
      background:#03150f; font-weight:700; letter-spacing:.06em;
      box-shadow:0 0 16px #00ffa355 inset;
    }
    .pill.red{ border-color:#c44; background:#160707; box-shadow:0 0 16px #ff3b3b55 inset; color:#ffcaca }
    .sep{opacity:.5}
    #count{font-weight:900; letter-spacing:.08em; color:#ffdede}

    /* Terminal */
    .wrap{position:relative; z-index:2; height:100%; display:grid; place-items:center; padding:22px}
    .term{
      width:min(980px,92vw); height:min(64vh,540px);
      background:#020a06cc; backdrop-filter: blur(3px);
      border:1px solid #0b2; border-radius:14px;
      box-shadow: 0 0 0 2px #083, 0 0 30px #00ffa355 inset, 0 20px 80px #000;
      display:flex; flex-direction:column; overflow:hidden;
      animation:boot .4s ease-out;
    }
    @keyframes boot{from{transform:scale(.985); opacity:.6} to{transform:scale(1); opacity:1}}

    .title{
      padding:10px 14px; color:#9be7c1; font-weight:800; letter-spacing:.06em;
      background:linear-gradient(180deg,#071e14,#03130c); border-bottom:1px solid #0b2;
    }
    .screen{flex:1; padding:14px 16px 10px 16px; overflow:auto; scrollbar-width:thin}
    .line{white-space:pre-wrap}
    .muted{color:#89a59b}
    .amber{color:var(--amber)}
    .danger{color:var(--danger)}
    .cursor{display:inline-block; width:.65ch; background:var(--neon); margin-left:2px; animation:blink 1s steps(2,end) infinite}
    @keyframes blink{50%{background:transparent}}

    .bar{height:10px; background:#053; border:1px solid #0a5; border-radius:10px; overflow:hidden; margin:6px 0 12px}
    .bar>i{display:block; height:100%; width:0; background:linear-gradient(90deg,var(--neon),var(--neon2)); box-shadow:0 0 20px var(--neon); transition:width .22s}

    /* Overlay de alerta */
    .alert{
      position:fixed; inset:0; z-index:5; display:grid; place-items:center;
      background: radial-gradient(60vh 30vh at 50% 38%, #1a0000bb 0%, transparent 65%);
      animation:show 7s steps(1,end) forwards; opacity:0;
    }
    @keyframes show{to{opacity:1}}
    .alert h1{
      font-size:clamp(28px,8vw,84px); margin:0; color:#fff;
      letter-spacing:.08em; text-shadow:0 0 14px #ff3b3b, 0 0 38px #ff3b3b;
      position:relative; filter:contrast(1.2);
    }
    .alert h1::before,.alert h1::after{
      content:attr(data-text); position:absolute; inset:0; mix-blend-mode:screen;
    }
    .alert h1::before{color:#0cf; transform:translate(2px,-2px); clip-path:inset(0 0 50% 0)}
    .alert h1::after{color:#0f0; transform:translate(-2px,2px); clip-path:inset(50% 0 0 0)}
    .ribbon{
      position:fixed; inset:auto 0 0 0; z-index:5;
      background: repeating-linear-gradient(45deg, #300, #300 16px, #500 16px, #500 32px);
      color:#ffcaca; text-align:center; font-weight:900; letter-spacing:.1em;
      padding:8px 10px; border-top:2px solid #700; text-shadow:0 0 8px #f33;
      animation:warn 1.2s ease-in-out infinite alternate;
    }
    @keyframes warn{from{filter:brightness(1)} to{filter:brightness(1.3)}}
  </style>
</head>
<body class="scan">
  <canvas id="matrix" aria-hidden="true"></canvas>

  <div class="topbar">
    <span class="pill">Control remoto: <b>ACTIVO</b></span>
    <span class="sep">|</span>
    <span class="pill red">Integridad: <b>COMPROMETIDO</b></span>
    <span class="sep">|</span>
    <span>Bloqueo del dispositivo en <span id="count">00:45</span></span>
  </div>

  <div class="wrap">
    <div class="term" role="region" aria-label="Consola de seguridad">
      <div class="title">/var/log/seguridad — sesión root</div>
      <div class="screen" id="screen" tabindex="0" aria-live="polite"></div>
    </div>
  </div>

  <div class="alert" id="alert" aria-hidden="true">
    <h1 data-text="SISTEMA COMPROMETIDO">SISTEMA COMPROMETIDO</h1>
  </div>
  <div class="ribbon">PROCESO CRÍTICO — NO INTERRUMPIR</div>

  <script>
    /* 
      Nota (para ti): esto es 100% visual. 
      No lee ni envía nada — no hay llamadas de red ni acceso a datos.
    */

    // ===== Fondo "matrix" =====
    (function matrix(){
      const c = document.getElementById('matrix'), ctx = c.getContext('2d');
      const resize = ()=>{ c.width = innerWidth; c.height = innerHeight; };
      addEventListener('resize', resize, {passive:true}); resize();
      const font = 16, cols = ()=>Math.floor(c.width/font);
      let drops = Array(cols()).fill(0).map(()=>Math.random()*c.height);
      const chars='アイウエオ0123456789abcdefABCDEF$#*@+=-';
      function draw(){
        if(drops.length!==cols()) drops = Array(cols()).fill(0).map(()=>Math.random()*c.height);
        ctx.fillStyle='rgba(0,0,0,0.08)'; ctx.fillRect(0,0,c.width,c.height);
        ctx.fillStyle='#12ff9b'; ctx.font=font+'px monospace';
        for(let i=0;i<drops.length;i++){
          const t = chars.charAt(Math.random()*chars.length|0);
          ctx.fillText(t, i*font, drops[i]*font);
          if(drops[i]*font>c.height && Math.random()>0.975) drops[i]=0;
          drops[i]+=Math.random()>0.95?2:1;
        }
        requestAnimationFrame(draw);
      }
      draw();
    })();

    // ===== Utilidades =====
    const screen = document.getElementById('screen');
    const countEl = document.getElementById('count');

    const wait = ms => new Promise(r => setTimeout(r, ms));
    const rnd = (a,b)=>Math.floor(Math.random()*(b-a+1))+a;
    const ip  = ()=>[rnd(10,250),rnd(0,255),rnd(0,255),rnd(1,254)].join('.');
    const hex = len => Array(len).fill(0).map(_=>'0123456789abcdef'[rnd(0,15)]).join('');

    function line(html, cls){
      const el = document.createElement('div');
      el.className = 'line'+(cls?(' '+cls):''); el.innerHTML = html;
      screen.appendChild(el); screen.scrollTop = screen.scrollHeight;
      return el;
    }
    async function type(txt, cls){
      const el = line('', cls);
      let s=''; const cur = document.createElement('span'); cur.className='cursor'; el.append(cur);
      for(const ch of txt){ s+=ch; el.firstChild ? el.firstChild.nodeValue=s : el.insertBefore(document.createTextNode(s), cur); await wait(rnd(8,22)); }
      cur.remove();
    }
    function progress(to=100, speed=[40,110]){
      const bar = document.createElement('div'); bar.className='bar';
      const fill = document.createElement('i'); bar.append(fill); screen.append(bar);
      let p=0; return new Promise(async res=>{
        while(p<to){ p = Math.min(to, p + rnd(3,9)); fill.style.width=p+'%'; await wait(rnd(...speed)); }
        res();
      });
    }

    // ===== Cuenta atrás (reinicia en 45s para no asustar en exceso) =====
    (function countdown(){
      let t = 45;
      const tick = ()=>{
        const m = String(Math.floor(t/60)).padStart(2,'0');
        const s = String(t%60).padStart(2,'0');
        countEl.textContent = `${m}:${s}`;
        t = (t<=0)?45:t-1;
      };
      tick(); setInterval(tick, 1000);
    })();

    // ===== Secuencia principal =====
    (async function run(){
      await type(`[+] Inicializando auditoría remota… nodo ${ip()}`);
      await type(`[+] Elevación de privilegios… OK`);
      await type(`[+] Estableciendo túnel cifrado a ${ip()}:${rnd(1000,9999)} … OK`);
      await type(`[+] Enumeración de usuarios ↪ root, admin, svc-backup, guest`);
      await type(`[+] Descifrando tokens…`, 'amber'); await progress(100);
      await type(`[!] Integridad comprometida: checksum ${hex(12)} ≠ ${hex(12)}`, 'danger');
      await type(`[+] Volcado de memoria del proceso pid ${rnd(1200,5400)} …`);
      for(let i=0;i<5;i++) line(`0x${hex(8)}  ${hex(32)}  ${hex(32)}`, 'muted');
      await type(`[+] Persistencia instalada — clave ${hex(16)}`);
      await type(`[+] Índice de archivos críticos…`, 'amber'); await progress(100,[30,80]);
      await type(`[+] Exfiltración → ${ip()}  | id=${hex(6)}  | size=${rnd(64,512)}KB`);
      // Mostrar overlay de alerta (se anima vía CSS)
      document.getElementById('alert').style.opacity = 1;
    })();
  </script>
</body>
</html>
